services:
  - type: web
    name: kinic-monad-agent
    runtime: docker
    plan: starter
    region: oregon
    repo: https://github.com/hshadab/kinic-monad-poc
    branch: master
    dockerfilePath: ./Dockerfile
    envVars:
      # Monad Configuration
      - key: MONAD_RPC_URL
        sync: false  # Set in Render dashboard (private mainnet RPC)

      - key: MONAD_CONTRACT_ADDRESS
        sync: false  # Set in Render dashboard

      - key: MONAD_PRIVATE_KEY
        sync: false  # Secret - set in Render dashboard

      # Internet Computer Configuration
      - key: KINIC_MEMORY_ID
        sync: false  # Your deployed memory canister ID

      - key: IC_IDENTITY_NAME
        value: kinic_local

      - key: IC_IDENTITY_PEM
        sync: false  # REQUIRED for full Kinic functionality - PEM content from ~/.config/dfx/identity/default/identity.pem

      # Anthropic AI
      - key: ANTHROPIC_API_KEY
        sync: false  # Secret - set in Render dashboard

      # Security Configuration (Optional)
      - key: API_KEY
        sync: false  # Optional API key for authentication - set in Render dashboard

      - key: ALLOWED_ORIGINS
        value: "https://kinicmemory.com,https://www.kinicmemory.com,https://monad-ai-memory.onrender.com"  # Comma-separated allowed CORS origins

      # Python/Runtime
      - key: PYTHONUNBUFFERED
        value: "1"

    healthCheckPath: /health

    autoDeploy: true
